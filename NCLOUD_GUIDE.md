# 🇰🇷 네이버 클라우드 플랫폼 완전 초보자 가이드

## ✅ 카카오페이 결제 가능! 

네이버 클라우드는 **카카오페이, 토스, 계좌이체** 모두 지원합니다!

---

## 🎁 무료 크레딧 $100 (3개월)

회원가입하면 **10만원 상당의 무료 크레딧**을 받을 수 있어서 3개월 동안 무료로 사용 가능합니다!

---

## 📍 1단계: 회원가입 및 무료 크레딧 받기

### 네이버 클라우드 가입
1. https://www.ncloud.com 접속
2. 우측 상단 **"회원가입"** 또는 **"무료로 시작하기"** 클릭
3. **네이버 계정으로 가입** (가장 쉬움)
   - 네이버 계정이 없다면: 이메일로 가입 가능

### 무료 크레딧 신청
1. 가입 완료 후 콘솔 로그인
2. 상단에 **"프로모션 신청"** 또는 **"무료 크레딧"** 배너 클릭
3. 신청서 작성 (간단한 설문)
4. 승인되면 $100 크레딧 지급 (보통 즉시~1일)

---

## 💳 2단계: 결제 수단 등록

### 카카오페이 등록 (추천!)
1. 콘솔 우측 상단 **"내 정보"** 클릭
2. **"결제 수단 관리"** 선택
3. **"카카오페이"** 선택
4. 카카오페이 앱에서 인증
5. 등록 완료!

### 기타 결제 수단
- 💰 토스
- 💳 신용카드
- 🏦 계좌이체

---

## 🖥️ 3단계: 서버 생성

### 서버 만들기
1. **Console** → **Compute** → **Server** 메뉴
2. **"서버 생성"** 버튼 클릭

### 서버 설정

#### ① Zone 선택
```
KR-1 (한국-평촌) 또는 KR-2 (한국-춘천)
※ 둘 다 괜찮음, 평촌이 약간 더 가까움
```

#### ② 서버 타입 선택
```
[추천] Compact (서버세대 g2)
- vCPU: 2개
- 메모리: 4GB
- 요금: 월 약 15,400원
- Discord 봇 + 웹 대시보드 여유있게 운영

[저렴한 옵션] Micro (서버세대 g2)
- vCPU: 1개
- 메모리: 1GB
- 요금: 월 약 7,700원
- 기본 운영 가능 (약간 느릴 수 있음)
```

#### ③ OS 이미지 선택
```
✅ Ubuntu Server 22.04 LTS (필수!)
```

#### ④ 스토리지
```
50GB SSD (기본값) - 충분합니다
```

#### ⑤ 네트워크 및 보안 설정

**ACG(Access Control Group) 설정** - 매우 중요!

기본 ACG에 다음 규칙 추가:
```
포트 22   - SSH (0.0.0.0/0)
포트 3000 - 웹 대시보드 (0.0.0.0/0)
포트 80   - HTTP (0.0.0.0/0)
포트 443  - HTTPS (0.0.0.0/0)
```

#### ⑥ 인증키 설정
```
새로운 인증키 생성
→ 키 이름 입력 (예: discord-bot-key)
→ "새로운 인증키 생성" 클릭
→ .pem 파일 자동 다운로드 (안전하게 보관!)
```

#### ⑦ 서버 이름 및 생성
```
서버 이름: discord-economy-bot (원하는 이름)
→ "서버 생성" 버튼 클릭
```

---

## 🗄️ 4단계: PostgreSQL 데이터베이스 생성

네이버 클라우드는 관리형 데이터베이스 서비스를 제공합니다!

### Cloud DB for PostgreSQL 생성
1. **Console** → **Database** → **Cloud DB for PostgreSQL**
2. **"DB 서버 생성"** 클릭

### DB 설정
```
DB 버전: PostgreSQL 15
서비스 이름: discord-bot-db
서버 타입: Economy (월 약 14,300원)
스토리지: 10GB (기본값)

DB 설정:
- DB 이름: discord_bot
- 사용자 이름: postgres
- 비밀번호: 강력한 비밀번호 설정 (기억해두세요!)

접근 제어:
- 내 서버 IP 추가 (서버 생성 후 확인)
```

---

## ⏱️ 5단계: 서버 생성 대기 (약 5분)

서버와 DB가 생성되는 동안 잠시 기다립니다.

**생성 완료 확인:**
- 서버 목록에서 "운영중" 상태 확인
- 공인 IP 주소 확인 및 복사

---

## 🔌 6단계: 서버 접속

### 방법 1: 웹 콘솔 (가장 쉬움!)
1. 서버 목록에서 서버 클릭
2. **"관리자 비밀번호 확인"** 클릭
3. 인증키(.pem) 업로드하여 비밀번호 확인
4. **"콘솔"** 버튼 클릭
5. 웹 브라우저에서 바로 접속!

### 방법 2: SSH 접속
```bash
# Windows (PowerShell)
ssh -i "다운로드한키.pem" root@서버공인IP

# Mac/Linux
chmod 400 다운로드한키.pem
ssh -i "다운로드한키.pem" root@서버공인IP
```

---

## 🚀 7단계: Discord 봇 자동 설치

서버에 접속한 후:

### 자동 설치 스크립트 실행
```bash
# 1. 스크립트 다운로드
wget https://raw.githubusercontent.com/skywalkers-lab/final-evolution/main/install-ncloud.sh

# 2. 실행 권한 부여
chmod +x install-ncloud.sh

# 3. 스크립트 실행
./install-ncloud.sh
```

### 설치 중 입력할 정보
```
Discord Bot Token: (Discord 개발자 포털에서)
Discord Application ID: (Discord 개발자 포털에서)
Database URL: postgresql://postgres:비밀번호@DB서버IP:5432/discord_bot
Session Secret: (아무 긴 문자열)
```

**Database URL 만들기:**
```
네이버 Cloud DB 정보:
- 호스트: DB 서버의 Private IP (콘솔에서 확인)
- 포트: 5432
- 예시: postgresql://postgres:mypassword@10.0.0.5:5432/discord_bot
```

---

## 🎉 8단계: 설치 완료 및 확인

### 웹 대시보드 접속
```
http://서버공인IP:3000
```

### Discord 봇 확인
1. Discord 서버에서 봇 온라인 확인
2. 명령어 테스트:
   ```
   /은행 잔액조회
   /주식 시세
   /엑셀내보내기
   ```

### 서버 상태 확인
```bash
pm2 status
pm2 logs discord-bot
```

---

## 💰 예상 비용 (무료 크레딧 사용 후)

```
서버 (Compact): 15,400원/월
DB (Economy): 14,300원/월
아웃바운드 트래픽: 약간 추가
──────────────────────────────
총합: 약 30,000원/월

※ 처음 3개월은 무료 크레딧으로 무료!
※ Micro 서버 사용 시 약 22,000원/월
```

---

## 🔧 추가 설정 (선택사항)

### 공인 IP 고정 (유료)
기본 공인 IP는 서버 재시작 시 변경될 수 있습니다.
```
Console → Compute → Public IP
→ "공인 IP 신청" (월 약 4,400원)
→ 서버에 연결
```

### 도메인 연결
1. 도메인 구매 (가비아, 후이즈 등)
2. DNS 설정:
   ```
   A 레코드: @ → 서버 공인 IP
   A 레코드: www → 서버 공인 IP
   ```

### HTTPS 인증서 (무료)
```bash
apt-get install certbot python3-certbot-nginx -y
certbot --nginx -d yourdomain.com
```

---

## 🆘 문제 해결

### 서버 접속 안 됨
1. ACG(방화벽) 규칙 확인
2. 포트 22 열려있는지 확인
3. 인증키(.pem) 파일 권한 확인

### DB 연결 안 됨
1. Cloud DB 접근 제어에 서버 IP 추가
2. Database URL 확인
3. DB 서버 상태 확인 (콘솔에서)

### 봇 오프라인
```bash
pm2 logs discord-bot  # 로그 확인
pm2 restart discord-bot  # 재시작
cat /opt/final-evolution/.env  # 환경변수 확인
```

---

## 📞 네이버 클라우드 고객지원

- ☎️ 전화: **1588-3820**
- 📧 이메일: ncloud@navercorp.com
- 💬 채팅: 콘솔 우측 하단 채팅 아이콘
- ⏰ 운영 시간: 평일 09:00-18:00

### 자주 묻는 질문
**Q: 무료 크레딧은 어디에 사용할 수 있나요?**
A: 서버, DB, 트래픽 등 모든 서비스에 사용 가능합니다.

**Q: 무료 크레딧 소진 후에는?**
A: 등록한 결제 수단으로 자동 과금됩니다.

**Q: 카카오페이 자동 결제 되나요?**
A: 네, 매월 자동으로 결제됩니다.

**Q: 서버 사양 변경 가능한가요?**
A: 네, 콘솔에서 언제든지 변경 가능합니다.

---

## 🎯 다음 단계 체크리스트

- [ ] 네이버 클라우드 회원가입
- [ ] 무료 크레딧 $100 신청
- [ ] 카카오페이 결제 수단 등록
- [ ] 서버 생성 (Ubuntu 22.04, Compact)
- [ ] ACG(방화벽) 규칙 설정
- [ ] Cloud DB for PostgreSQL 생성
- [ ] 서버 SSH 접속
- [ ] 자동 설치 스크립트 실행
- [ ] 웹 대시보드 접속 확인
- [ ] Discord 봇 온라인 확인
- [ ] 명령어 테스트

---

## 🎉 완료!

이제 Discord 경제 봇이 네이버 클라우드에서 24/7 운영됩니다!

### 장점 요약
- ✅ **카카오페이 결제 가능**
- ✅ 3개월 무료 ($100 크레딧)
- ✅ 한국어 지원
- ✅ 안정적인 인프라
- ✅ 관리형 PostgreSQL
- ✅ 24시간 고객지원

### 유지보수
- 📊 콘솔에서 리소스 모니터링
- 🔄 GitHub push 후 서버에서 수동 업데이트
- 💾 정기적으로 DB 백업 (자동 백업 설정 가능)

문제가 생기면 언제든 물어보세요! 😊
